<!DOCTYPE html>
<html>
	<head>
		<style>
			#map{
				height: 100%;
			}

			html, body{
				height: 100%;
				margin: 0;
				padding: 0;
			}
			
		</style>
		 <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Location Awareness</title>
	</head>
	<body>
		<div id="map"></div>
		<script>
			let map;
			
				function initMap(){
						map = new google.maps.Map(document.getElementById("map"),{
							center: {lat: 41.86975917757122, lng: -87.64962180263322},
							zoom: 10,
						//center:{Current Position}
					});


				/*Checks geoLocation is avaiable*/
				if('geolocation' in navigator){
					const watchId = navigator.geolocation.watchPosition((pos) =>{
						const lati = pos.coords.latitude;
						const long = pos.coords.longitude;
						// console.log(pos);
						// console.log("Lat: " + pos.coords.latitude + " Long: " + pos.coords.longitude);
	
							const circ = new google.maps.Circle({
								strokeColor: "#FF0000",
					      strokeOpacity: 0.8,
					      strokeWeight: 2,
					      fillColor: "#FF0000",
					      fillOpacity: 0.35,
					      map,
								center: {lat: lati, lng: long},
								radius: 10,
							});
					});
				}else{
					console.log("GeoLocation is not available");
				}
			window.initMap = initMap;
		</script>
		 <script
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCJp28qXmqN-UpxQpNW9cC46Iq49iDYrbU&callback=initMap&v=weekly"
      async
  ></script>
	</body>
</html>